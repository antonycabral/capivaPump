<div class="container">
  <h2>Cadastro de Usuário</h2>
  <form (ngSubmit)="onSubmit()" #cadastroForm="ngForm">
    <div class="form-group">
      <label for="nome">Nome:*</label>
      <input
        type="text"
        id="nome"
        class="form-control"
        required
        [(ngModel)]="usuario.nome"
        name="nome"
        #nome="ngModel"
        [class.is-invalid]="nome.invalid && (nome.dirty || nome.touched)"
      />
      <div class="invalid-feedback" *ngIf="nome.invalid && (nome.dirty || nome.touched)">
        Nome é obrigatório
      </div>
    </div>
    
    <div class="form-group">
      <label for="email">Email:*</label>
      <input
        type="email"
        id="email"
        class="form-control"
        required
        email
        [(ngModel)]="usuario.email"
        name="email"
        #email="ngModel"
        [class.is-invalid]="email.invalid && (email.dirty || email.touched)"
      />
      <div class="invalid-feedback" *ngIf="email.invalid && (email.dirty || email.touched)">
        <div *ngIf="email.errors?.['required']">Email é obrigatório</div>
        <div *ngIf="email.errors?.['email']">Email inválido</div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="password">Senha:*</label>
      <input
        type="password"
        id="password"
        class="form-control"
        required
        [(ngModel)]="usuario.password"
        name="password"
        #password="ngModel"
        [class.is-invalid]="password.invalid && (password.dirty || password.touched)"
      />
      <div class="invalid-feedback" *ngIf="password.invalid && (password.dirty || password.touched)">
        Senha é obrigatória
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Confirmar Senha:*</label>
      <input
        type="password"
        id="confirmPassword"
        class="form-control"
        required
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        [class.is-invalid]="passwordMismatch"
      />
      <div class="invalid-feedback" *ngIf="passwordMismatch">
        As senhas não coincidem
      </div>
    </div>
    
    <div class="form-group">
      <label for="idade">Idade:*</label>
      <input
        type="number"
        id="idade"
        class="form-control"
        required
        [(ngModel)]="usuario.idade"
        name="idade"
        #idade="ngModel"
        [class.is-invalid]="idade.invalid && (idade.dirty || idade.touched)"
      />
      <div class="invalid-feedback" *ngIf="idade.invalid && (idade.dirty || idade.touched)">
        Idade é obrigatória
      </div>
    </div>

    <!-- Peso and Altura remain optional -->
    <div class="form-group">
      <label for="peso">Peso (kg):</label>
      <input
        type="number"
        id="peso"
        class="form-control"
        [(ngModel)]="usuario.peso"
        name="peso"
      />
    </div>

    <div class="form-group">
      <label for="altura">Altura (m):</label>
      <input
        type="number"
        id="altura"
        class="form-control"
        [(ngModel)]="usuario.altura"
        name="altura"
      />
    </div>
    
    <button type="submit" class="btn btn-primary" [disabled]="!cadastroForm.form.valid || passwordMismatch">
      Cadastrar
    </button>
  </form>
</div>
